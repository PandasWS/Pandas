// Athena sockets Configuration file
// translated (davidsiaw)


// Display debug reports (When something goes wrong during the report, the report is saved.)
debug: no

// Linux/Epoll: Maximum Events per cycle
// Default Value:
//	(Maximum Supported Connections)/2
// NOTE: this controls the maximum collected socket-events per-cycle (call to epoll_wait())
//       for example settings this to 32 will allow up to 32 events (incoming data/new connections
//       per server-cycle.
// NOTE: Recommended Settings is at least half the maximum supported connections
//       Settings this to a lower value, may cause lags/delays
//       Depending on available CPU Time
// NOTE: This Setting is only available on Linux when build using EPoll as event dispatcher!
//
//epoll_maxevents: 1024

// How long can a socket stall before closing the connection (in seconds)
stall_time: 60

//----- IP 规则设置 -----

// 当有新的连接请求需要建立时, 是否先检查对方的IP地址
// 这个选项打开时, 也会启用 DDoS 攻击防护机制.
enable_ip_rules: yes

// 检查IP地址是否合法的名单顺序
//   deny,allow     : 先检查黑名单规则, 再检查白名单规则, 
//                    如果IP地址没有在任何名单中出现, 则通过. 
//   allow,deny     : 先检查白名单规则, 再检查黑名单规则, 
//                    如果IP地址没有在任何名单中出现, 则通过. 
//   mutual-failure : 要求IP地址必须白名单中, 
//                    并且与此同时不在黑名单中, 才判定为通过. 
// (默认值为 deny,allow 表示先检查黑名单规则, 再检查白名单规则)

order: deny,allow
// order: allow,deny
// order: mutual-failure

// IP 规则
//   allow : 允许连接的IP范围(哪怕它被标记为DDoS的攻击者)
//   deny  : 拒绝连接的IP范围
// 程序在处理规则的时候, 优先使用匹配上IP地址的第一个设置

// allow: 127.0.0.1
// allow: 192.168.0.0/16
// allow: 10.0.0.0/255.0.0.0
// allow: all

// deny: 127.0.0.1


//---- DDoS 攻击防护设置 ----
// 如果在 ddos_interval 选项指定的时间间隔内, 某个IP地址建立连接的次数
// 超过了 ddos_count 选项指定的次数, 那么将这个IP视为发起了DDoS攻击

// 连续尝试建立连接的间隔时间 (单位为毫秒)
// (默认值为 3000 毫秒, 即3秒)
ddos_interval: 3000

// 连续尝试建立连接的次数
// (默认值为 5 次)
ddos_count: 5

// 当某个IP地址被判定为发起DDoS攻击之后, 
// 需要过多长时间(单位为毫秒)才解除这个IP的连接限制
// (默认值为 600000 毫秒, 即10分钟)
ddos_autoreset: 600000


import: conf/import/packet_conf.txt
