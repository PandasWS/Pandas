cmake_minimum_required(VERSION 2.8)

## start setting
SET (this_target breakpad)
PROJECT(${this_target})

set( BREAKPAD_INCLUDE_DIRS
    ${CMAKE_CURRENT_SOURCE_DIR}/src CACHE INTERNAL "" )
set( BREAKPAD_SOURCE_DIR
    ${CMAKE_CURRENT_SOURCE_DIR}/src CACHE INTERNAL "" )

mark_as_advanced( BREAKPAD_INCLUDE_DIRS )
mark_as_advanced( BREAKPAD_SOURCE_DIR )

set( BREAKPAD_HEADERS
    "${BREAKPAD_INCLUDE_DIRS}/client/linux/crash_generation/client_info.h"
    "${BREAKPAD_INCLUDE_DIRS}/client/linux/crash_generation/crash_generation_client.h"
    "${BREAKPAD_INCLUDE_DIRS}/client/linux/crash_generation/crash_generation_server.h"
    "${BREAKPAD_INCLUDE_DIRS}/client/linux/dump_writer_common/mapping_info.h"
    "${BREAKPAD_INCLUDE_DIRS}/client/linux/dump_writer_common/raw_context_cpu.h"
    "${BREAKPAD_INCLUDE_DIRS}/client/linux/dump_writer_common/thread_info.h"
    "${BREAKPAD_INCLUDE_DIRS}/client/linux/dump_writer_common/ucontext_reader.h"
    "${BREAKPAD_INCLUDE_DIRS}/client/linux/handler/exception_handler.h"
    "${BREAKPAD_INCLUDE_DIRS}/client/linux/handler/microdump_extra_info.h"
    "${BREAKPAD_INCLUDE_DIRS}/client/linux/handler/minidump_descriptor.h"
    "${BREAKPAD_INCLUDE_DIRS}/client/linux/minidump_writer/cpu_set.h"
    "${BREAKPAD_INCLUDE_DIRS}/client/linux/minidump_writer/directory_reader.h"
    "${BREAKPAD_INCLUDE_DIRS}/client/linux/minidump_writer/line_reader.h"
    "${BREAKPAD_INCLUDE_DIRS}/client/linux/minidump_writer/linux_core_dumper.h"
    "${BREAKPAD_INCLUDE_DIRS}/client/linux/minidump_writer/linux_dumper.h"
    "${BREAKPAD_INCLUDE_DIRS}/client/linux/minidump_writer/linux_ptrace_dumper.h"
    "${BREAKPAD_INCLUDE_DIRS}/client/linux/minidump_writer/minidump_writer.h"
    "${BREAKPAD_INCLUDE_DIRS}/client/linux/minidump_writer/minidump_writer_unittest_utils.h"
    "${BREAKPAD_INCLUDE_DIRS}/client/linux/minidump_writer/proc_cpuinfo_reader.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/basictypes.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/byte_cursor.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/convert_UTF.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/dwarf_cfi_to_module.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/dwarf_cu_to_module.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/dwarf_line_to_module.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/dwarf_range_list_handler.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/language.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/linux/crc32.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/linux/dump_symbols.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/linux/eintr_wrapper.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/linux/elf_core_dump.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/linux/elf_gnu_compat.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/linux/elf_symbols_to_module.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/linux/elfutils.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/linux/elfutils-inl.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/linux/file_id.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/linux/google_crashdump_uploader.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/linux/guid_creator.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/linux/http_upload.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/linux/ignore_ret.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/linux/libcurl_wrapper.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/linux/linux_libc_support.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/linux/memory_mapped_file.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/linux/safe_readlink.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/linux/symbol_upload.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/linux/synth_elf.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/long_string_dictionary.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/md5.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/memory_allocator.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/memory_range.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/minidump_type_helper.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/module.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/path_helper.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/scoped_ptr.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/simple_string_dictionary.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/stabs_reader.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/stabs_to_module.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/stdio_wrapper.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/string_conversion.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/symbol_data.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/test_assembler.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/unordered.h"
    "${BREAKPAD_INCLUDE_DIRS}/common/using_std_string.h"
    "${BREAKPAD_INCLUDE_DIRS}/google_breakpad/common/breakpad_types.h"
    "${BREAKPAD_INCLUDE_DIRS}/google_breakpad/common/minidump_cpu_amd64.h"
    "${BREAKPAD_INCLUDE_DIRS}/google_breakpad/common/minidump_cpu_arm64.h"
    "${BREAKPAD_INCLUDE_DIRS}/google_breakpad/common/minidump_cpu_arm.h"
    "${BREAKPAD_INCLUDE_DIRS}/google_breakpad/common/minidump_cpu_mips.h"
    "${BREAKPAD_INCLUDE_DIRS}/google_breakpad/common/minidump_cpu_ppc64.h"
    "${BREAKPAD_INCLUDE_DIRS}/google_breakpad/common/minidump_cpu_ppc.h"
    "${BREAKPAD_INCLUDE_DIRS}/google_breakpad/common/minidump_cpu_sparc.h"
    "${BREAKPAD_INCLUDE_DIRS}/google_breakpad/common/minidump_cpu_x86.h"
    "${BREAKPAD_INCLUDE_DIRS}/google_breakpad/common/minidump_exception_linux.h"
    "${BREAKPAD_INCLUDE_DIRS}/google_breakpad/common/minidump_exception_mac.h"
    "${BREAKPAD_INCLUDE_DIRS}/google_breakpad/common/minidump_exception_ps3.h"
    "${BREAKPAD_INCLUDE_DIRS}/google_breakpad/common/minidump_exception_solaris.h"
    "${BREAKPAD_INCLUDE_DIRS}/google_breakpad/common/minidump_exception_win32.h"
    "${BREAKPAD_INCLUDE_DIRS}/google_breakpad/common/minidump_format.h"
    "${BREAKPAD_INCLUDE_DIRS}/google_breakpad/common/minidump_size.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/address_map.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/address_map-inl.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/basic_code_module.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/basic_code_modules.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/basic_source_line_resolver_types.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/cfi_frame_info.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/cfi_frame_info-inl.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/contained_range_map.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/contained_range_map-inl.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/convert_old_arm64_context.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/disassembler_x86.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/exploitability_linux.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/exploitability_win.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/fast_source_line_resolver_types.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/linked_ptr.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/logging.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/map_serializers.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/map_serializers-inl.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/module_comparer.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/module_factory.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/module_serializer.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/pathname_stripper.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/postfix_evaluator.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/postfix_evaluator-inl.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/range_map.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/range_map-inl.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/simple_serializer.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/simple_serializer-inl.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/simple_symbol_supplier.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/source_line_resolver_base_types.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/stackwalk_common.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/stackwalker_address_list.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/stackwalker_amd64.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/stackwalker_arm64.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/stackwalker_arm.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/stackwalker_mips.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/stackwalker_ppc64.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/stackwalker_ppc.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/stackwalker_sparc.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/stackwalker_unittest_utils.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/stackwalker_x86.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/static_address_map.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/static_address_map-inl.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/static_contained_range_map.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/static_contained_range_map-inl.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/static_map.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/static_map-inl.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/static_map_iterator.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/static_map_iterator-inl.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/static_range_map.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/static_range_map-inl.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/symbolic_constants_win.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/synth_minidump.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/synth_minidump_unittest_data.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/tokenize.h"
    "${BREAKPAD_INCLUDE_DIRS}/processor/windows_frame_info.h"
    "${BREAKPAD_INCLUDE_DIRS}/third_party/lss/linux_syscall_support.h"
    CACHE INTERNAL "breakpad client headers" )

set( BREAKPAD_SOURCES
    "${BREAKPAD_SOURCE_DIR}/client/linux/crash_generation/crash_generation_client.cc"
    "${BREAKPAD_SOURCE_DIR}/client/linux/crash_generation/crash_generation_server.cc"
    "${BREAKPAD_SOURCE_DIR}/client/linux/dump_writer_common/thread_info.cc"
    "${BREAKPAD_SOURCE_DIR}/client/linux/dump_writer_common/ucontext_reader.cc"
    "${BREAKPAD_SOURCE_DIR}/client/linux/handler/exception_handler.cc"
    "${BREAKPAD_SOURCE_DIR}/client/linux/handler/exception_handler.h"
    "${BREAKPAD_SOURCE_DIR}/client/linux/handler/minidump_descriptor.cc"
    "${BREAKPAD_SOURCE_DIR}/client/linux/handler/minidump_descriptor.h"
    "${BREAKPAD_SOURCE_DIR}/client/linux/log/log.cc"
    "${BREAKPAD_SOURCE_DIR}/client/linux/log/log.h"
    "${BREAKPAD_SOURCE_DIR}/client/linux/microdump_writer/microdump_writer.cc"
    "${BREAKPAD_SOURCE_DIR}/client/linux/microdump_writer/microdump_writer.h"
    "${BREAKPAD_SOURCE_DIR}/client/linux/minidump_writer/linux_core_dumper.cc"
    "${BREAKPAD_SOURCE_DIR}/client/linux/minidump_writer/linux_dumper.cc"
    "${BREAKPAD_SOURCE_DIR}/client/linux/minidump_writer/linux_ptrace_dumper.cc"
    "${BREAKPAD_SOURCE_DIR}/client/linux/minidump_writer/minidump_writer.cc"
    "${BREAKPAD_SOURCE_DIR}/client/minidump_file_writer-inl.h"
    "${BREAKPAD_SOURCE_DIR}/client/minidump_file_writer.cc"
    "${BREAKPAD_SOURCE_DIR}/client/minidump_file_writer.h"

    "${BREAKPAD_SOURCE_DIR}/common/convert_UTF.c"
    "${BREAKPAD_SOURCE_DIR}/common/convert_UTF.h"
    "${BREAKPAD_SOURCE_DIR}/common/md5.cc"
    "${BREAKPAD_SOURCE_DIR}/common/md5.h"
    "${BREAKPAD_SOURCE_DIR}/common/string_conversion.cc"
    "${BREAKPAD_SOURCE_DIR}/common/string_conversion.h"
    "${BREAKPAD_SOURCE_DIR}/common/linux/elf_core_dump.cc"
    "${BREAKPAD_SOURCE_DIR}/common/linux/elfutils.cc"
    "${BREAKPAD_SOURCE_DIR}/common/linux/elfutils.h"
    "${BREAKPAD_SOURCE_DIR}/common/linux/file_id.cc"
    "${BREAKPAD_SOURCE_DIR}/common/linux/file_id.h"
    "${BREAKPAD_SOURCE_DIR}/common/linux/guid_creator.cc"
    "${BREAKPAD_SOURCE_DIR}/common/linux/guid_creator.h"
    "${BREAKPAD_SOURCE_DIR}/common/linux/linux_libc_support.cc"
    "${BREAKPAD_SOURCE_DIR}/common/linux/memory_mapped_file.cc"
    "${BREAKPAD_SOURCE_DIR}/common/linux/safe_readlink.cc"
    "${BREAKPAD_SOURCE_DIR}/common/linux/http_upload.cc"
    CACHE INTERNAL "breakpad client sources" )

set( BREAKPAD_DEFINITIONS
	"-std=c++11"
    CACHE INTERNAL "breakpad definitions" )
include_directories(${BREAKPAD_INCLUDE_DIRS} ${BREAKPAD_SOURCE_DIR})
ADD_LIBRARY(${this_target} STATIC ${BREAKPAD_SOURCES} )
