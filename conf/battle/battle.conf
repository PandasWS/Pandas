//--------------------------------------------------------------
// 熊猫模拟器战斗配置选项
// 最初的翻译由 Peter Kieser <pfak@telus.net> 完成
// 由 Ancyker 改写成纯英文, 由熊猫模拟器开发团队进行汉化
//--------------------------------------------------------------
//   开关选项: 可以用 on/off, yes/no 或 1/0 来表示开关
// 百分比选项: 填写 100 即表示 100%
//   掩码选项: 没有特殊说明的情况下, 默认用来表示游戏中各单位的类型
//             ------------------------------------
//             | 十六进制  |  十进制  |  对应单位 |
//             | 0x001     |  1       |  玩家     |
//             | 0x002     |  2       |  魔物     |
//             | 0x004     |  4       |  宠物     |
//             | 0x008     |  8       |  生命体   |
//             | 0x010     |  16      |  佣兵     |
//             | 0x080     |  128     |  NPC      |
//             | 0x200     |  512     |  元素精灵 |
//             ------------------------------------
//             掩码选项一个数值可以表示里面有多个内容. 
//             例如: 若想表示玩家和宠物, 只需填写 5 即可 (1 + 4)
//             掩码选项支持的填写格式有两种: 分别是十六进制和十进制,
//             若您填写十六进制则需要用 0x 作为数值的开头
//--------------------------------------------------------------

// 复兴前模式下, 哪些单位能拥有 BaseAtk 基础攻击值? (掩码选项)
// 这些单位能够让它自身的 Str 属性影响到它输出的伤害
//
// 默认值为: 9, 表示包含: 玩家(1) + 生命体(8)
enable_baseatk: 9

// 复兴后模式下, 哪些单位能拥有 BaseAtk 基础攻击值? (掩码选项)
// 这些单位能够让它自身的 Str 属性影响到它输出的伤害
//
// 默认值为: 0x29F, 表示包含: 全部单位
enable_baseatk_renewal: 0x29F

// 哪些单位能够掌握完全回避? (掩码选项)
// 注意: 能掌握不代表它已经会, 只能表示它能会.
//
// 默认值为: 1, 表示包含: 玩家(1)
enable_perfect_flee: 1

// 哪些单位能够产生暴击? (掩码选项)
// 注意: 有些技能会无视此设置, 该暴击的时候还是会暴击
//
// 默认值为: 17, 表示包含: 玩家(1) + 佣兵(16)
enable_critical: 17

// 魔物产生暴击的倍率 (百分比选项)
// 默认值为: 100
mob_critical_rate: 100

// 除了玩家和魔物外其他单位产生暴击的倍率 (百分比选项)
// 其他单位是指如: 宠物、生命体、佣兵、元素精灵
//
// 默认值为: 100
critical_rate: 100

// 哪些单位在发起攻击后会有移动延迟? (掩码选项)
// 
// 没有移动延迟的单位将在攻击发起之后立刻就可以移动,
// 在这种情况下攻击动画过程和移动动画过程会被客户端省略,
// 可能会产生攻击动画没播放完毕的情况
// 
// 拥有移动延迟的单位只有攻击动画播放结束了才能够进行移动
// "移动延迟" 的时间长度通常等同于单位的 "攻击动画" 持续时间
//
// 移动延迟:
// 英文是 Move-Delay. 是指发起某个动作 (例如攻击动作) 后,
// 必须等待多久才能进行移动的这个 "禁止移动" 时间段.
//
// 默认值为: 15, 表示包含: 玩家(1) + 魔物(2) + 宠物(4) + 生命体(8)
attack_walk_delay: 15

// 玩家单位被击中后的移动延迟倍率 (百分比选项)
// 
// 注意: 此选项只影响 "单段式攻击" (例如: 狂击) 
// 以及 "多段式攻击" (例如: 怒雷强击) 第一击的移动延迟时间.
// 对于 "多段式攻击" 追加的移动延迟调整请见 multihit_delay 选项
//
// 默认值为: 20
pc_damage_walk_delay_rate: 20

// 非玩家单位被击中后的移动延迟倍率 (百分比选项)
// 
// 注意: 此选项只影响 "单段式攻击" (例如: 狂击) 
// 以及 "多段式攻击" (例如: 怒雷强击) 第一击的移动延迟时间.
// 对于 "多段式攻击" 追加的移动延迟调整请见 multihit_delay 选项
//
// 默认值为: 100
damage_walk_delay_rate: 100

// 多段式攻击每一击追加的移动延迟 (单位为: 毫秒)
//
// 当玩家或者魔物被 "怒雷强击" 这样的多段式攻击命中时,
// 除了第一击的移动延迟之外, 还会额外追加:
// multihit_delay * (攻击段数 - 1) 的 "多段式攻击延迟" 
// 
// 默认值为: 80 毫秒
multihit_delay: 80

// 玩家单位被攻击后的延迟倍率 (百分比选项)
// 设置为 0 的话玩家将拥有类似 "霸体" 类似的效果
//
// 默认值为: 100
player_damage_delay_rate: 100

// 判断某单位属于不死类型的依据是什么?
//
// 0 = 该单位拥有不死属性 (ELE_UNDEAD)
// 1 = 该单位属于不死种族 (RC_UNDEAD)
// 2 = 以上任意一个成立就算
//
// 默认值为: 0 (拥有不死属性)
undead_detect_type: 0

// 当攻击属性与目标的防御属性相同时,
// 是否会放弃伤害转而变成帮目标恢复血量? (开关选项)
// 
// 启用后穿戴火鳞盔甲 (物品编号: 2344) 的情况下被 "火箭术" 攻击,
// 火箭术的伤害会变成帮目标恢复血量
//
// 默认值为: no
attribute_recover: no

// 普通攻击的最小命中率是多少? (百分比选项)
// 默认值为: 5
min_hitrate: 5

// 普通攻击的最大命中率是多少? (百分比选项)
// 默认值为: 100
max_hitrate: 100

// 被多少个敌人围攻时开始触发回避率惩罚?
// 默认值为: 3
agi_penalty_count: 3

// 当被 agi_penalty_count 个敌人围攻时,
// 使用哪种方式对被攻击者的回避率进行减算惩罚?
// 
// 0 = 不减少回避率
// 
// 1 = 减少 agi_penalty_num 选项指定百分比的回避率
//
//     例如: 当 agi_penalty_num 填写 10, 则参与围攻的攻击者在
//           超过 agi_penalty_count 设定的数量之后,
//           每增加一个攻击者, 被攻击者就会降低 10% 的回避率
//
// 2 = 减少 agi_penalty_num 选项指定数值的回避率
//
//     例如: 当 agi_penalty_num 填写 20, 则参与围攻的攻击者在
//           超过 agi_penalty_count 设定的数量之后,
//           每增加一个攻击者, 被攻击者就会降低 20 点回避率
//
// 在现实生活中如果您动作很灵敏, 和一个人打架时您可以轻松回避的话,
// 那么当您以一敌十的时候, 您的回避率肯定是会降低的...
// 
// 当玩家被很多魔物围攻的时候, 玩家的回避率也会相应减少.
// 
// 默认值为: 1
agi_penalty_type: 1

// 当回避率惩罚机制被启用时, 
// 哪种类型的单位会受到该机制的影响? (掩码选项)
// 
// 默认值为: 1, 表示包含: 玩家(1)
agi_penalty_target: 1

// 当触发回避率惩罚机制后, 
// 每增加一个敌人, 被攻击者会降低多少回避率?
//
// 当 agi_penalty_type 为 1 时: 表示减少的回避率百分比
// 当 agi_penalty_type 为 2 时: 表示减少具体的回避率数值
// 
// 默认值为: 10
agi_penalty_num: 10

// 被多少个敌人围攻时开始触发物理防御力惩罚?
// 默认值为: 3
vit_penalty_count: 3

// 当被 vit_penalty_count 个敌人围攻时,
// 使用哪种方式对被攻击者的物理防御力进行减算惩罚?
// 
// 0 = 不减少物理防御力
// 
// 1 = 减少 vit_penalty_num 选项指定百分比的物理防御力
//
//     例如: 当 vit_penalty_num 填写 10, 则参与围攻的攻击者在
//           超过 vit_penalty_count 设定的数量之后,
//           每增加一个攻击者, 被攻击者就会降低 10% 的物理防御力
//
// 2 = 减少 vit_penalty_num 选项指定数值的物理防御力
//
//     例如: 当 vit_penalty_num 填写 20, 则参与围攻的攻击者在
//           超过 vit_penalty_count 设定的数量之后,
//           每增加一个攻击者, 被攻击者就会降低 20 点物理防御力
//
// 此处的物理防御力特指 VIT 素质所带来的那部分防御力
// 
// 默认值为: 1
vit_penalty_type: 1

// 当物理防御力惩罚机制被启用时, 
// 哪种类型的单位会受到该机制的影响? (掩码选项)
// 
// 默认值为: 1, 表示包含: 玩家(1)
vit_penalty_target: 1

// 当触发物理防御力惩罚机制后, 
// 每增加一个敌人, 被攻击者会降低多少物理防御力?
//
// 当 vit_penalty_type 为 1 时: 表示减少的物理防御力百分比
// 当 vit_penalty_type 为 2 时: 表示减少具体的物理防御力数值
// 
// 默认值为: 5
vit_penalty_num: 5

// 是否采用替代算法来处理
// 受到物理攻击时根据物理防御力进行伤害减算的过程
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
// 复兴后模式下 (Renewal)
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
// 面板中 + 左侧的值是素质防御 (sDEF)
// 面板中 + 右侧的值是装备防御 (eDEF)
//
// 最终伤害 = 攻击伤害值 * (4000+eDEF) / (4000+eDEF*10) - sDEF
//
// 设置为 0 的时候:
//     表示不使用替代算法
//
// 设置为 1 或更大值的时候:
//     使用替代算法来进行伤害减算
//     装备防御(eDEF) x 此项配置值, 然后直接将其加入素质防御(sDEF)
//
//     假定面板中 Def 的显示是: 10 + 50
//     其中的 10 是素质防御(sDEF); 50 是装备防御(eDEF)
//
//     假定此选项为 2 的情况下:
//     sDEF(10) + eDEF(50) 会先变成 sDEF(10 * 2 + 50) + eDEF(0)
//     然后再套用上面提到的 [最终伤害] 计算公式.
//
//     也就是说: 装备防御(eDEF)将会融入到素质防御(sDEF)
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
// 复兴前模式下 (Pre-Renewal)
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
// 面板中 + 左侧的值是装备防御 (def1 乘算值)
// 面板中 + 右侧的值是素质防御 (def2 减算值, 通常就是 VIT 的值)
//
// 注意事项:
// 复兴前与复兴后 Def 面板中 + 左右的数值含义左右互换
//
// 设置为 0 的时候:
//     表示不使用替代算法
//
// 设置为 1 或更大值的时候:
//     使用替代算法来进行伤害减算
//     装备防御(def1) x 此项配置值, 然后直接将其加入素质防御(def2)
//
//     假定面板中 Def 的显示是: 10 + 50
//     其中的 10 是装备防御(def1); 50 是素质防御(def2)
//
//     假定此选项为 2 的情况下:
//     首先素质防御(def2)会先经过以下公式进行调整和修正:
//     def2 = [VIT*0.3] + RND(0, [VIT^2/150] - [VIT*0.3] - 1) + [VIT*0.5]
//     然后装备防御(def1) x 此项配置值, 追加到 def2 里面:
//     def2 = def2 + 10 x 2
//     最后将装备防御(def1)视为 0, 再继续进行防御减伤计算.
//
//     也就是说: 装备防御(def1)将会融入到素质防御(def2)里面去
//
// 默认值为: 0
weapon_defense_type: 0

// 是否采用替代算法来处理
// 受到魔法攻击时根据魔法防御力进行伤害减算的过程
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
// 复兴后模式下 (Renewal)
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
// 此选项在复兴后模式下不适用, 配置与否不会有任何影响
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
// 复兴前模式下 (Pre-Renewal)
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
// 面板中 + 左侧的值是装备防御 (mdef)
// 面板中 + 右侧的值是素质防御 (mdef2)
//     其中 mdef2 虽然在面板中看起来的值跟 INT 一致,
//     但其实在内存中 mdef2 = INT + (VIT / 2),
//     只是将数值发送客户端面板的时候又减掉了 (VIT / 2).
//
//     因此进行防御减伤运算的时候,
//     是以 INT + (VIT / 2) 作为 mdef2 来代入计算的.
//
// 设置为 0 的时候:
//     表示不使用替代算法
//     最终伤害 = 攻击伤害值 * (100-mdef) / 100 - mdef2
//
// 设置为 1 或更大值的时候:
//     使用替代算法来进行伤害减算
//     最终伤害 = 攻击伤害值 - (mdef * 此项配置值) - mdef2
//
//     假定面板中 Mdef 的显示是: 10 + 18
//     其中的 10 是装备防御(mdef); 18 是素质防御(mdef2)
//     同时假定 VIT 是 16 + 5 = 21 的情况下,
//     参与运算的 mdef2 实际 = 18 + (21 / 2) = 28
//
//     假定此选项为 2 的情况下:
//     最终伤害 = 攻击伤害值 - (10 * 2) - 28
//
// 默认值为: 0
magic_defense_type: 0

// 哪些单位会在每次攻击时使自己朝向对手? (掩码选项)
//
// 在官方服务器上像 "火焰之壁" 这种具备击退能力的技能
// 在计算击退方向的时候, 总是基于目标最后移动的方向进行反向击退.
// 
// 施展 "火焰之壁" 的攻击者在多个完全不同的方向发起攻击,
// 被击退的单位的击退方向也不会发生任何改变.
//
// 例如: 你正在向北移动, 此时你面朝北方背后是南方.
// 然后位于你东边的某另一个敌人在你脚下丢了个 "火焰之壁",
// 此时你还是会被击退到南方.
//
// 无法移动的魔物 (例如: "曼陀罗魔花")
// 永远会被击退到南方, 因为它们生成的时候默认面朝北方.
//
// 若此选项的值表示包含 2 (魔物),
// 那么你再用 "火焰之壁" 去攻击 "曼陀罗魔花" 的时候,
// 由于 "曼陀罗魔花" 会在对你发起攻击的时候,
// 因为会此选项的关系先面朝你, 因此你的 "火焰之壁" 会将
// 它往远离你的地方击退 (而不是固定击退到南方).
//
// 默认值为: 0
attack_direction_change: 0

// 哪些单位的普通攻击不受到属性修正影响? (掩码选项)
// 它们普通攻击其他单位时, 造成的伤害不会受到属性修正的影响.
//
// 该设定可以赋予非玩家单位使用
// 普通攻击来对幽灵属性的目标造成全额伤害的能力.
// 
// 默认值为: 14, 表示包含: 魔物(2) + 宠物(4) + 生命体(8)
attack_attr_none: 14

// 装备的基础损坏率 (万分比选项)
// 调整该值可以直接提高各种装备损坏的基础概率.
// 注意: 设为 1 = 0.01% 损坏率.
// 
// 默认值为: 0
equip_natural_break_rate: 0

// 自身装备损坏倍率 (百分比选项)
// 此选项会影响 "凶砍" 和 "野蛮凶砍" 的自身装备损坏机率
//
// 通常公式大致如下:
// 损坏率 = (装备的基础损坏率 + 各技能对装备损坏率 - 部分
//           效果调整器的损坏概率调整) * 该选项的倍率
//
// 只要损坏装备的目标是自己或者队友, 就会受到此选项影响
//
// 因此贤者的 "属性附加" 系列技能若失败,
// 那么被附加的目标角色的武器损坏概率, 也会受到此选项影响.
// 
// 默认值为: 100
equip_self_break_rate: 100

// 敌人装备损坏倍率 (百分比选项)
// 此选项会影响 "强酸攻击" 和 "野蛮凶砍" 损坏敌人装备的机率
//
// 只要损坏装备的目标是敌人, 就会受到此选项影响
// 
// 默认值为: 100
equip_skill_break_rate: 100

// 武器攻击是否延迟伤害结算? (开关选项)
// 启用后会每次攻击的实际伤害结算过程都会延迟 500 毫秒.
// 
// 默认值为: yes (官方服务器行为)
delay_battle_damage: yes

// 使用弓系武器或枪系武器时是否消耗弹药?
// 此处的弹药是指弹药类型的道具, 例如: 箭矢 / 子弹 / 短刀等
//
// 0 = 不消耗弹药
//
// 1 = 要消耗, 但尊重技能数据库配置 (此为默认值)
//
// 2 = 强制消耗, 哪怕技能数据库中不指定弹药
//
//     只要这个技能是可造成伤害的、攻击类型是 Weapon 武器伤害类型,
//     技能施法要求的武器类型是: “猎弓”、“左轮手枪”、“榴弹枪”.
//     那么就算它不明确指定需要消耗哪种弹药,
//     也会默认消耗 1 个任意类型的弹药(箭矢、子弹等). 
//
//     哪怕这个技能是因为卡片效果习得的, 或是使用“抄袭、复制”技能
//     抄来的, 都会自动判断是否需要消耗箭矢
//
// 感觉选项 2 是为了避免出现 "有些技能由于技能数据库不完整, 从而
// 导致无需消耗箭矢”而设计的严格选项, 通常用处不大. 
// 
// 默认值为: 1 (要消耗, 但尊重技能数据库配置)
arrow_decrement: 1

// 当玩家脱下武器时是否同时脱下弹药? (开关选项)
// 此处的弹药是指弹药类型的道具, 例如: 箭矢 / 子弹 / 短刀等
//
// 默认值为: yes (要脱下弹药)
ammo_unequip: yes

// 装备弹药的时候是否检查对应的武器类型? (开关选项)
// 此处的弹药是指弹药类型的道具, 例如: 箭矢 / 子弹 / 短刀等
//
// 开启之后若弹药类型与当前穿戴的武器类型不适配,
// 则会提示玩家弹药装备失败.
//
// 默认值为: yes
ammo_check_weapon: yes

// 是否在自动咏唱技能之前先检查施法距离? (开关选项)
// 
// 该选项启用后当有技能需要被自动咏唱时,
// 会使用它在技能数据库中定义的距离来进行判断, 不满足则放弃触发.
//
// 举个例子:
// 音速投掷要求在距离目标 2 格范围内才能被发动.
//
// 默认值为: no (官方服务器行为)
autospell_check_range: no

// 当攻击者和被攻击者的坐标一致时,
// 使用击退技能会是否会将敌人击退到攻击者的左侧? (开关选项)
// 若设置为 no 则会退到攻击者的背后.
//
// 默认值为: yes (官方服务器行为)
knockback_left: yes

// 玩家是否能够同时召唤出猎鹰和野狼? (开关选项)
// 默认值为: no (官方服务器行为)
warg_can_falcon: no

// 被攻击时是否可以通过 "弓身弹影" 来
// 快速远离攻击者 (10 格以上), 以此来躲避伤害? (开关选项)
// 
// 这个过程是因为延迟伤害结算导致的,
// 在官方服务器行为中 delay_battle_damage 的值默认为 yes,
// 因此每次实际伤害结算都会延迟 500 毫秒发生,
// 在这 500 毫秒内使用 "弓身弹影" 快速离开可以躲避伤害.
//
// 当设置为 yes 的话, 超过 10 格就会放弃伤害结算.
// 否则需要超过 conf/battle/client.conf 中 area_size 选项的距离
// 才能躲过伤害结算 (想在 500 毫秒内完成会很难做到).
//
// 默认值为: no
snap_dodge: no

// 是否允许技能或者物品来 "破坏" 非玩家单位的装备? (开关选项)
//
// 此选项启用后对非玩家单位 (魔物、生命体、佣兵、元素精灵等)
// 使用 "破坏装备" 类型的技能就可以对齐施加负面效果.
// 
// 禁用此选项时, 野蛮凶砍 (WS_MELTDOWN) 技能不受此选项的限制.
//
// 默认值为: no (官方服务器行为)
break_mob_equip: no
